#query services
test_name: qery_services
#
includes:
  - !include envfile.yml

stages:
  - name: delete_packages_sp
    request:
      url: "{delete_sp:s}"
      method: DELETE
    response:
      status_code: 200

  - name: delete_packages_vnv
    request:
      url: "{delete_vnv:s}"
      method: DELETE
    response:
      status_code: 200

  - name: upload_package
    request:
      url: "{upload_package:s}"
      method: POST
      files:
        package: "5gtango-ns-package-example.tgo"
    response:
      status_code: 200
      save:
        body:
          package_process_uuid: package_process_uuid
    delay_after: 15    
        
  - name: check_upload_status
    request:
      url: "{upload_package:s}/status/{package_process_uuid:s}"
      method: GET
    response:
      status_code: 200
      save:
        body:
          package_id: package_id

  - name: delete_package
    request:
      url: "{upload_package:s}{package_id:s}"
      method: DELETE
    response:
      status_code: 204

   
     
